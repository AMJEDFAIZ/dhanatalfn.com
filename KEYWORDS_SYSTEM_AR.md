# نظام الكلمات المفتاحية والوسوم (Keywords/Tags)

## الهدف
- إدارة مركزية للكلمات المفتاحية من لوحة التحكم.
- ربط الكلمات بشكل متعدد/عكسي مع الخدمات والمشاريع والمقالات وصفحات الموقع.
- استخدام الكلمات في:
  - SEO (meta keywords + تحسينات مساعدة)
  - الوسوم داخل المحتوى كتاغات قابلة للنقر
  - صفحة أرشيف لكل كلمة تعرض كل العناصر المرتبطة بها

## الجداول
### 1) keywords
- يخزن الكلمة ككيان مستقل: `name`, `slug`, `normalized`, `locale`, `active`, `description`.
- منع التكرار عبر `unique(locale, normalized)`.

### 2) keywordables
- علاقة Polymorphic Many-to-Many:
  - `keyword_id`
  - `keywordable_type` + `keywordable_id`
  - `context`: `meta` أو `content` أو `both`
  - `is_primary`, `weight` (جاهزة للتطوير والترتيب)

### 3) seo_pages
- تعريف صفحات ثابتة/قوائم: `home`, `about`, `contact`, `services_index`, `projects_index`, `blog_index`.
- يتم توليدها تلقائياً عند فتح لوحة "كلمات الصفحات".

## منطق الربط (Meta vs Content)
- **SEO keywords**: كلمات تستخدم لبناء meta keywords بشكل محدود وثابت.
- **وسوم المحتوى**: كلمات تظهر في الصفحة كتاغات (روابط) وتستخدم للأرشفة.
- إذا كانت نفس الكلمة موجودة في المجموعتين، يتم حفظها في `context=both`.

## الحدود العليا (Limits)
- الحد الأعلى لكلمات SEO: `12`
- الحد الأعلى لوسوم المحتوى: `20`
- يمكن تعديلها من: `app/Services/KeywordService.php`

## لوحة التحكم
### 1) الكلمات المفتاحية
- إدارة CRUD: إنشاء/تعديل/تعطيل/حذف (الحذف ممنوع إذا كانت الكلمة مستخدمة).
- عرض تفاصيل الكلمة يبين أين تم استخدامها.

### 2) كلمات الصفحات
- لكل صفحة ثابتة يمكن اختيار:
  - كلمات SEO
  - وسوم المحتوى
- مع إمكانية إضافة كلمات جديدة من نفس الشاشة.

### 3) نماذج إضافة/تعديل المحتوى
- في:
  - الخدمات
  - المشاريع
  - المدونة
- يمكن اختيار كلمات موجودة + كتابة كلمات جديدة مفصولة بفواصل لإنشائها وربطها مباشرة.

## الواجهة العامة
### 1) الوسوم داخل الصفحات
- تظهر كتاغات بارزة قابلة للنقر.
- الرابط: `/keywords/{slug}`

### 2) صفحة أرشيف الكلمة
- تعرض الخدمات/المشاريع/المقالات المرتبطة.
- خيار فلترة حسب النوع عبر `?type=services|projects|blog`.

### 3) SEO و robots
- في صفحات الكلمات: يتم تطبيق `noindex` تلقائياً إذا كان استخدام الكلمة ضعيفاً ولا يوجد وصف.

